<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset='utf-8'>
		<title>WebGL teste</title>
		<style>
			body {
				margin: 0;
				overflow: hidden;
			}
			canvas {
				width: 100%;
				height: 100%;
			}
			video {
				width: 100%;
				display: none;
			}
		</style>
		<script src="js/polyfills.js"></script>
		<script src="js/three.js"></script>
	</head>
	<body>
		<video id="video" autoplay>
		  <source src="http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_30fps_normal.mp4" type="video/mp4">
		</video>
		<canvas id="canvas"></canvas>

		<script>
			var video = document.getElementById('video'), canvas = document.getElementById('canvas'), context = canvas.getContext('2d');
			
			 canvas.addEventListener('click', function(el) {
				 video.pause(); // Parar pra eu n√£o ficar ouvindo o tempo todo a musica D:
			 });
			 video.onplay = function() {
				 canvas.width = video.videoWidth;
				 canvas.height = video.videoHeight;
				 imprime();
			 };
			 
			 function imprime () {
				 if (video.paused || video.ended) {
					 return false;
				 }
				 context.drawImage(video, 0, 0);
				 requestAnimationFrame(imprime);
			 }

		</script>
	</body>
</html>